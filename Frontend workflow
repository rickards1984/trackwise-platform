name: ci-frontend
on:
pull_request:
paths: [ 'frontend/**' ]
push:
branches: [ main ]
paths: [ 'frontend/**' ]

jobs:
build-and-test:
runs-on: ubuntu-latest
defaults:
run:
working-directory: frontend
steps:
- uses: actions/checkout@v4
- uses: actions/setup-node@v4
with:
node-version: '20'
cache: 'npm'
cache-dependency-path: 'frontend/package-lock.json'
- run: npm ci
- run: npm run build --if-present
# Run Playwright tests if configured
- name: Run Playwright if configured
run: |
if [ -f playwright.config.ts ] || [ -f playwright.config.js ] || [ -d tests ] || [ -d e2e ]; then
npx playwright install --with-deps
npx playwright test
else
echo "No Playwright config found; skipping"
fi
